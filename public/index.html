<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yelo Spot Delivery</title>
  <link rel="stylesheet" href="/styles.css"/>
  <link rel="icon" href="/logo.png"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
<header>
  <img src="/logo.png" alt="Yelo Spot logo" onerror="this.style.display='none'"/>
  <div class="brand">YELO SPOT</div>
</header>

<div class="container">
  <div class="card">
    <div class="row">
      <!-- Service type -->
      <div class="full">
        <label>Service Type</label>
        <select id="serviceType">
          <option value="MOTORCYCLE">Motorcycle</option>
          <option value="MPV">MPV</option>
        </select>
      </div>

      <!-- Map + instructions + route info -->
      <div class="full">
        <div id="map"></div>
        <p class="muted">Click to set <b>pickup</b>, click again to set <b>drop-off</b>. Drag markers to adjust.</p>
        <div id="routeInfo" class="route-distance" style="display:none"></div>
      </div>

      <!-- Address inputs with suggestions (pickup / drop) -->
      <div class="full" style="display:grid;grid-template-columns:1fr 1fr;gap:14px;position:relative">
        <div style="position:relative">
          <label>Pickup address (search or tap map)</label>
          <input id="pickupAddr" placeholder="e.g. SM North EDSA"/>
          <div id="pickupSuggest" class="suggest" style="display:none"></div>
          <div id="pickupNote" class="addr-note"></div>
          <input id="pickup" style="display:none"/>
        </div>
        <div style="position:relative">
          <label>Drop-off address (search or tap map)</label>
          <input id="dropAddr" placeholder="e.g. Ayala Center Cebu"/>
          <div id="dropSuggest" class="suggest" style="display:none"></div>
          <div id="dropNote" class="addr-note"></div>
          <input id="dropoff" style="display:none"/>
        </div>
      </div>

      <!-- Sticky CTA -->
      <div class="full sticky-cta">
        <button id="btnQuote">Get Quote</button>
        <button id="btnOrder" disabled>Place Order</button>
      </div>

      <div class="full">
        <div id="quoteBox" class="price"></div>
        <p id="orderMsg" class="muted"></p>
      </div>
    </div>
  </div>

  <!-- Tracking card (admin/internal) -->
  <div class="card" id="trackingCard" style="display:none">
    <h3>Live Tracking (Webhook → SSE)</h3>
    <div id="trackMap"></div>
    <p id="trackMsg" class="muted"></p>
  </div>
</div>

<footer>© <span id="year"></span> Yelo Spot • Map data © OpenStreetMap contributors</footer>
<script src="/app.js"></script>
<script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>
</html>
